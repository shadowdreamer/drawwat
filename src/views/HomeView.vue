<script setup lang="ts">
import { RouterLink, useRoute } from 'vue-router'
import { useAuthStore } from '../store/auth'

const route = useRoute()
const authStore = useAuthStore()

const showLogin = route.query.showLogin === 'true'
</script>

<template>
  <div class="min-h-[calc(100vh-4rem)] bg-base-200">
    <!-- Hero Section - Single Screen Layout -->
    <section class="min-h-[calc(100vh-4rem)] flex items-center px-4 sm:px-6 lg:px-8">
      <div class="max-w-6xl w-full mx-auto">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center">
          <!-- Left: Brand & CTA -->
          <div class="text-center lg:text-left">
            <div class="mb-4">
              <span class="text-5xl sm:text-6xl opacity-80">ğŸ¨</span>
            </div>
            <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold mb-4 font-display">
              DrawWat
            </h1>
            <p class="text-base sm:text-lg text-base-content/70 mb-8 leading-relaxed">
              ä¸Šä¼ å›¾ç‰‡ï¼Œè®¾ç½®ç­”æ¡ˆï¼Œå’Œæœ‹å‹ä¸€èµ·çŒœè°œ
            </p>

            <!-- CTA Buttons -->
            <div class="flex flex-col sm:flex-row gap-3 justify-center lg:justify-start">
              <RouterLink
                v-if="authStore.isLoggedIn"
                to="/create"
                class="btn btn-primary gap-2 min-w-[140px]"
              >
                <i class="i-lucide-plus" />
                åˆ›å»ºè°œé¢˜
              </RouterLink>
              <button
                v-else
                @click="authStore.toAuthPage()"
                class="btn btn-primary gap-2 min-w-[140px]"
              >
                <i class="i-lucide-github" />
                å¼€å§‹ä½¿ç”¨
              </button>

              <RouterLink
                v-if="authStore.isLoggedIn"
                to="/my-puzzles"
                class="btn btn-outline gap-2 min-w-[140px]"
              >
                <i class="i-lucide-gamepad-2" />
                æˆ‘çš„è°œé¢˜
              </RouterLink>
            </div>

            <!-- Login prompt -->
            <div v-if="showLogin && !authStore.isLoggedIn" class="alert alert-info mt-6 max-w-md mx-auto lg:mx-0">
              <i class="i-lucide-info" />
              <div class="text-sm">
                è¯·<span class="font-semibold">ç™»å½•</span>åè®¿é—®è¯¥é¡µé¢
              </div>
            </div>
          </div>

          <!-- Right: Feature Cards -->
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-1 gap-4">
            <div class="card bg-base-100 border border-base-300 shadow-sm">
              <div class="card-body p-4 flex-row items-center gap-4">
                <div class="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center shrink-0">
                  <i class="i-lucide-image text-2xl text-primary" />
                </div>
                <div>
                  <h3 class="font-semibold font-display">ä¸Šä¼ å›¾ç‰‡</h3>
                  <p class="text-xs text-base-content/60">æ”¯æŒ JPGã€PNGã€WEBP</p>
                </div>
              </div>
            </div>

            <div class="card bg-base-100 border border-base-300 shadow-sm">
              <div class="card-body p-4 flex-row items-center gap-4">
                <div class="w-12 h-12 rounded-full bg-secondary/10 flex items-center justify-center shrink-0">
                  <i class="i-lucide-lightbulb text-2xl text-secondary" />
                </div>
                <div>
                  <h3 class="font-semibold font-display">è®¾ç½®ç­”æ¡ˆ</h3>
                  <p class="text-xs text-base-content/60">å¯é€‰æ·»åŠ æç¤ºè¯­</p>
                </div>
              </div>
            </div>

            <div class="card bg-base-100 border border-base-300 shadow-sm">
              <div class="card-body p-4 flex-row items-center gap-4">
                <div class="w-12 h-12 rounded-full bg-accent/10 flex items-center justify-center shrink-0">
                  <i class="i-lucide-share-2 text-2xl text-accent" />
                </div>
                <div>
                  <h3 class="font-semibold font-display">åˆ†äº«é“¾æ¥</h3>
                  <p class="text-xs text-base-content/60">ä¸€é”®åˆ†äº«ç»™æœ‹å‹</p>
                </div>
              </div>
            </div>

            <div class="card bg-base-100 border border-base-300 shadow-sm">
              <div class="card-body p-4 flex-row items-center gap-4">
                <div class="w-12 h-12 rounded-full bg-info/10 flex items-center justify-center shrink-0">
                  <i class="i-lucide-sparkles text-2xl text-info" />
                </div>
                <div>
                  <h3 class="font-semibold font-display">æ™ºèƒ½æç¤º</h3>
                  <p class="text-xs text-base-content/60">ç±»ä¼¼ Wordle çš„æç¤ºç³»ç»Ÿ</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>
